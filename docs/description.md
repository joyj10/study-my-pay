# my-pay 기능
## 간편 결제 시스템

## 기능 설명
- 회원 가입 및 정보 변경 가능 : Membership Service
- 간편 송금 기능 : 회원 to 회원 / 회원 to 일반 은행 계좌 
  - [회원 to 회원]
    - 단순 선불 충전 금액(머니)의 이동 트랜잭션
    - -> 서비스 로직 - DB Transaction
  - [회원 to 은행계좌]
    - 선불 충전 금액(머니)에서 타행 실제 계좌로 금액 이동 
    - -> 외부 은행과의 통신 모듈 - "뱅킹" (펌뱅킹)
      - 은행 상태, 입/출금 금액 관리, 법인 계좌 관리 등
      - 추가 기능 필요
- 가맹점 결제 기능
  - 결재 요청 시 가맹점 전표 생성(이후 전표 기준으로 정산 진행)
  - 결제는 전표를 생성하는 과정(머니를 가맹점으로 입금하는 것이 X)
- 가맹점 정산 기능
  - 승인 전표(정상 결제)를 가지고 돈을 정리하는 것을 정산 이라 함
  - 정산 주기에 따라 가맹점에 수수료를 제외하고 정산 함

## 서비스 기능 정의
- 회원 가입 및 정보 변경 기능
  - Membership Service + 계좌 연결 기능
- [회원 to 회원 / 회원 to 일반 은행 계좌] 간 간편 송금 기능
  - 회원 간 잔액 이동 비즈니스 로직
  - 외부 실제 은행 관리 시스템(모듈)
- 가맹점에서의 결제 기능 + 정산 기능
  - 가맹점 관리 시스템
  - 결제 시스템 + 크론잡을 통한 정산 기능

## 용어 정리
- 선불 충전 금액
  - 머니 = 선불 충전 금액
  - 은행 계좌에서 현금을 선불로 충전한 금액을 '머니'라고 칭함
  - 사용자가 충전을 하는 경우 
    - 사용자의 실제 은행 계좌에서 충전 금액 출금 -> 간편 결제 법인 계좌로 돈 입금
  - 송금 전에는 머니 충전이 선행 되어야 함

- 펌뱅킹
  - 은행의 기능을 시스템적으로 이용하기 위한 수단을 뜻함
  - 시스템 사용 회사는 개별적인 은행마다 별도의 계약을 맺고 수수료를 지불해야 함
    - 펌뱅킹 기능 사용마다 은행에 수수료 지불 해야 함
    - 은행 거래, 계좌간 돈 이동 시 입금/출금 이행 요청 마다 고정 금액 수수료 지불
  - 이러한 이유로 머니 충전 시 최소 1만원 이상 충전하도록 제한
    - 1만원 넘는 경우 정확한 금액으로 충전 됨

- 송금
  - 돈을 보내는 일
  - [회원 to 회원]
    - 단순 선불 충전 금액(머니)의 이동 트랜잭션
    - 잔액 부족 시, 최소 10,000원 단위로 충전 후 이동
  - [회원 to 은행계좌] 간 간편 송금 기능
    - 선불 충전 금액(머니)에서 타행의 실제 계좌로의 금액 이동
      - 페캠 페이 법인 계좌에서 은행계좌로 송금
